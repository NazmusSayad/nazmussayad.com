@use 'sass:math';
$___REM: 10;

@function ___px-to-rem($px) {
  $rems: math.div($px, $___REM) * 1rem;
  @return $rems;
}

@function ___formatParam($value) {
  $noUnit: math.div($value, ($value * 0 + 1));
  @return $noUnit * $___REM;
}

@function fluid($min-size, $max-size, $max-breakpoint: 2000) {
  $min-breakpoint: 300;
  $min-size: ___formatParam($min-size);
  $max-size: ___formatParam($max-size);

  $slope: math.div($max-size - $min-size, $max-breakpoint - $min-breakpoint);
  $slope-to-unit: $slope * 100;
  $intercept-rem: ___px-to-rem($min-size - $slope * $min-breakpoint);
  $min-size-rem: ___px-to-rem($min-size);
  $max-size-rem: ___px-to-rem($max-size);
  @return clamp(
    #{$min-size-rem},
    #{$slope-to-unit}vw + #{$intercept-rem},
    #{$max-size-rem}
  );
}
